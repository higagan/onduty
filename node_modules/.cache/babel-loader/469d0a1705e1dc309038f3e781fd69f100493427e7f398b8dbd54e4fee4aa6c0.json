{"ast":null,"code":"// src/components/Auth/Login.js\nimport React,{useState,useContext}from'react';import{TextField,Button,Typography,Box}from'@mui/material';import{AuthContext}from'../../contexts/AuthContext';import{useNavigate,useLocation,Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const{login}=useContext(AuthContext);const navigate=useNavigate();const location=useLocation();const[credentials,setCredentials]=useState({username:'',password:''});const[error,setError]=useState('');const handleChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};const handleSubmit=e=>{e.preventDefault();// Implement actual authentication logic here\nconst success=login(credentials);if(success){var _location$state;// Redirect based on user type\nconst from=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)||'/';navigate(from);}else{setError('Invalid credentials or Hospital not found. Please try again.');}};return/*#__PURE__*/_jsxs(Box,{sx:{maxWidth:500,mx:'auto',mt:5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",name:\"username\",fullWidth:true,margin:\"normal\",value:credentials.username,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",name:\"password\",type:\"password\",fullWidth:true,margin:\"normal\",value:credentials.password,onChange:handleChange,required:true}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",children:error}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,sx:{mt:2},children:\"Login\"})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:2,textAlign:'center'},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[\"New to MedDuty? \",/*#__PURE__*/_jsx(Button,{component:Link,to:\"/register\",children:\"Register Here\"})]})})]});}export default Login;","map":{"version":3,"names":["React","useState","useContext","TextField","Button","Typography","Box","AuthContext","useNavigate","useLocation","Link","jsx","_jsx","jsxs","_jsxs","Login","login","navigate","location","credentials","setCredentials","username","password","error","setError","handleChange","e","target","name","value","handleSubmit","preventDefault","success","_location$state","from","state","sx","maxWidth","mx","mt","children","variant","gutterBottom","onSubmit","label","fullWidth","margin","onChange","required","type","color","textAlign","component","to"],"sources":["C:/Users/gagan/Documents/onduty-f-20240921T163350Z-001/onduty-f/src/components/Auth/Login.js"],"sourcesContent":["// src/components/Auth/Login.js\r\nimport React, { useState, useContext } from 'react';\r\nimport { TextField, Button, Typography, Box } from '@mui/material';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { useNavigate, useLocation, Link } from 'react-router-dom';\r\n\r\nfunction Login() {\r\n  const { login } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  const [credentials, setCredentials] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n  \r\n  const [error, setError] = useState('');\r\n  \r\n  const handleChange = (e) => {\r\n    setCredentials({...credentials, [e.target.name]: e.target.value});\r\n  };\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // Implement actual authentication logic here\r\n    const success = login(credentials);\r\n    if (success) {\r\n      // Redirect based on user type\r\n      const from = location.state?.from || '/';\r\n      navigate(from);\r\n    } else {\r\n      setError('Invalid credentials or Hospital not found. Please try again.');\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Box sx={{ maxWidth: 500, mx: 'auto', mt: 5 }}>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Login\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField \r\n          label=\"Username\" \r\n          name=\"username\" \r\n          fullWidth \r\n          margin=\"normal\" \r\n          value={credentials.username}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <TextField \r\n          label=\"Password\" \r\n          name=\"password\" \r\n          type=\"password\" \r\n          fullWidth \r\n          margin=\"normal\" \r\n          value={credentials.password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        {error && <Typography color=\"error\">{error}</Typography>}\r\n        <Button \r\n          type=\"submit\" \r\n          variant=\"contained\" \r\n          color=\"primary\" \r\n          fullWidth \r\n          sx={{ mt: 2 }}\r\n        >\r\n          Login\r\n        </Button>\r\n      </form>\r\n      <Box sx={{ mt: 2, textAlign: 'center' }}>\r\n        <Typography variant=\"body2\">\r\n          New to MedDuty? <Button component={Link} to=\"/register\">Register Here</Button>\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}