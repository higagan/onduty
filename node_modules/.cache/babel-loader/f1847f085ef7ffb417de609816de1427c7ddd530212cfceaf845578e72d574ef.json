{"ast":null,"code":"// src/components/Auth/Register.js\nimport React,{useState,useContext}from'react';import{TextField,Button,Typography,Box,ToggleButtonGroup,ToggleButton}from'@mui/material';import{AuthContext}from'../../contexts/AuthContext';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const{register}=useContext(AuthContext);const navigate=useNavigate();const[formData,setFormData]=useState({username:'',password:'',type:''// 'Doctor' or 'Hospital'\n});const[registrationSuccess,setRegistrationSuccess]=useState(false);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleTypeChange=(event,newType)=>{if(newType!==null){setFormData({...formData,type:newType});}};const handleSubmit=e=>{e.preventDefault();const success=register(formData);if(success){setRegistrationSuccess(true);}else{// Handle registration failure if needed\n}};if(registrationSuccess){return/*#__PURE__*/_jsxs(Box,{sx:{maxWidth:500,mx:'auto',textAlign:'center',mt:5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Registration Successful!\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",gutterBottom:true,children:\"Thank you for registering. You are now logged in.\"}),formData.type==='Doctor'?/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>navigate('/')// Redirect to Listings\n,children:\"Go to Listings\"}):/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>navigate('/hospital-register')// Redirect to Hospital Registration\n,children:\"Complete Hospital Registration\"})]});}return/*#__PURE__*/_jsxs(Box,{sx:{maxWidth:500,mx:'auto',mt:5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",name:\"username\",fullWidth:true,margin:\"normal\",value:formData.username,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",name:\"password\",type:\"password\",fullWidth:true,margin:\"normal\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{mt:2},children:\"Register As:\"}),/*#__PURE__*/_jsxs(ToggleButtonGroup,{color:\"primary\",value:formData.type,exclusive:true,onChange:handleTypeChange,fullWidth:true,sx:{mt:1,mb:2},children:[/*#__PURE__*/_jsx(ToggleButton,{value:\"Doctor\",children:\"Medical Staff\"}),/*#__PURE__*/_jsx(ToggleButton,{value:\"Hospital\",children:\"Hospital\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,disabled:!formData.type,children:\"Register\"})]})]});}export default Register;","map":{"version":3,"names":["React","useState","useContext","TextField","Button","Typography","Box","ToggleButtonGroup","ToggleButton","AuthContext","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Register","register","navigate","formData","setFormData","username","password","type","registrationSuccess","setRegistrationSuccess","handleChange","e","target","name","value","handleTypeChange","event","newType","handleSubmit","preventDefault","success","sx","maxWidth","mx","textAlign","mt","children","variant","gutterBottom","color","onClick","onSubmit","label","fullWidth","margin","onChange","required","exclusive","mb","disabled"],"sources":["C:/Users/gagan/Documents/onduty-f-20240921T163350Z-001/onduty-f/src/components/Auth/Register.js"],"sourcesContent":["// src/components/Auth/Register.js\r\nimport React, { useState, useContext } from 'react';\r\nimport { \r\n  TextField, \r\n  Button, \r\n  Typography, \r\n  Box, \r\n  ToggleButtonGroup, \r\n  ToggleButton \r\n} from '@mui/material';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\nfunction Register() {\r\n  const { register } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n    type: '', // 'Doctor' or 'Hospital'\r\n  });\r\n\r\n  const [registrationSuccess, setRegistrationSuccess] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleTypeChange = (event, newType) => {\r\n    if (newType !== null) {\r\n      setFormData({ ...formData, type: newType });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const success = register(formData);\r\n    if (success) {\r\n      setRegistrationSuccess(true);\r\n    } else {\r\n      // Handle registration failure if needed\r\n    }\r\n  };\r\n\r\n  if (registrationSuccess) {\r\n    return (\r\n      <Box sx={{ maxWidth: 500, mx: 'auto', textAlign: 'center', mt: 5 }}>\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          Registration Successful!\r\n        </Typography>\r\n        <Typography variant=\"body1\" gutterBottom>\r\n          Thank you for registering. You are now logged in.\r\n        </Typography>\r\n        {formData.type === 'Doctor' ? (\r\n          <Button \r\n            variant=\"contained\" \r\n            color=\"primary\" \r\n            onClick={() => navigate('/')} // Redirect to Listings\r\n          >\r\n            Go to Listings\r\n          </Button>\r\n        ) : (\r\n          <Button \r\n            variant=\"contained\" \r\n            color=\"primary\" \r\n            onClick={() => navigate('/hospital-register')} // Redirect to Hospital Registration\r\n          >\r\n            Complete Hospital Registration\r\n          </Button>\r\n        )}\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 500, mx: 'auto', mt: 5 }}>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Register\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField \r\n          label=\"Username\" \r\n          name=\"username\" \r\n          fullWidth \r\n          margin=\"normal\" \r\n          value={formData.username}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <TextField \r\n          label=\"Password\" \r\n          name=\"password\" \r\n          type=\"password\" \r\n          fullWidth \r\n          margin=\"normal\" \r\n          value={formData.password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <Typography variant=\"subtitle1\" sx={{ mt: 2 }}>\r\n          Register As:\r\n        </Typography>\r\n        <ToggleButtonGroup\r\n          color=\"primary\"\r\n          value={formData.type}\r\n          exclusive\r\n          onChange={handleTypeChange}\r\n          fullWidth\r\n          sx={{ mt: 1, mb: 2 }}\r\n        >\r\n          <ToggleButton value=\"Doctor\">Medical Staff</ToggleButton>\r\n          <ToggleButton value=\"Hospital\">Hospital</ToggleButton>\r\n        </ToggleButtonGroup>\r\n        <Button \r\n          type=\"submit\" \r\n          variant=\"contained\" \r\n          color=\"primary\" \r\n          fullWidth \r\n          disabled={!formData.type}\r\n        >\r\n          Register\r\n        </Button>\r\n      </form>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}